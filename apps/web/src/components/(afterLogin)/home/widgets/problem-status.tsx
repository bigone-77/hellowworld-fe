import WidgetWrapper from '@/components/(afterLogin)/home/widgets/layout/Wrapper';
import {
  Button,
  EduButton,
  InlineSvg,
  Progressbar,
  ToggleButton,
} from '@repo/ui/components';

export default function ProblemStatus() {
  const tempStatus = false; // 임의의 변수 설정 -> 한 번도 스텝별 문제풀이 접근한 적이 없을때
  return (
    <WidgetWrapper title='나의 문제 현황' isMoreBtnVisible href='/step-up'>
      {tempStatus ? (
        <div className='mt-3 flex flex-col gap-y-3'>
          <p className='flex items-center gap-x-2'>
            <span className='text-label-l2 text-primary-box-var3'>STEP2</span>
            <span className='text-title-l text-text2'>
              왕초보 Python 입문 (3/20)
            </span>
          </p>
          <Progressbar progress={32} />
          <div className='bg-text-box rounded-L flex max-h-[224] flex-col gap-y-3 overflow-y-auto p-5'>
            {lessonData.map((d) => (
              <div
                key={d.id}
                className='flex items-stretch justify-between gap-x-3'
              >
                <EduButton
                  step={d.step}
                  title={d.title}
                  progress={d.progress}
                  isActive
                />
                <div className='flex items-center gap-x-2'>
                  <Button variant='primary_icon' className='aspect-square'>
                    <InlineSvg alias='play' />
                  </Button>
                  <ToggleButton
                    variant='primary_icon'
                    className='aspect-square'
                    alias='star'
                    isOn={false}
                  />
                </div>
              </div>
            ))}
          </div>
          <Button variant='primary'>바로시작하기</Button>
        </div>
      ) : (
        <div className='mb-12 mt-3 flex w-full flex-1 flex-col gap-y-3'>
          <div className='bg-text-box rounded-L grid grid-cols-2 items-center gap-x-2 py-[38]'>
            <div className='flex items-center justify-end pb-[31.25] pr-[23.75] pt-[13.75]'>
              <OriginMascot />
            </div>

            <div className='flex flex-col gap-y-2'>
              <p className='text-headline-s text-text2'>사전 테스트하기</p>
              <p className='text-body-l1 text-text1'>
                문제를 풀기 전 나의 레벨을 확인해봐요
              </p>
            </div>
          </div>
          <Button variant='primary'>바로시작하기</Button>
        </div>
      )}
    </WidgetWrapper>
  );
}

const lessonData = [
  {
    id: 1,
    step: '01',
    title: '자료형과 변수 이해하기',
    progress: 100,
    isActive: false,
    isBookmarked: true,
  },
  {
    id: 2,
    step: '02',
    title: '반복문(for, while) 마스터',
    progress: 0,
    isActive: true, // 현재 활성화된 항목
    isBookmarked: false,
  },
  {
    id: 3,
    step: '03',
    title: '함수 선언과 호출',
    progress: 0,
    isActive: false,
    isBookmarked: true,
  },
  {
    id: 4,
    step: '04',
    title: '객체와 클래스의 개념',
    progress: 0,
    isActive: false,
    isBookmarked: false,
  },
  {
    id: 5,
    step: '05',
    title: '비동기 프로그래밍 (async/await)',
    progress: 0,
    isActive: false,
    isBookmarked: false,
  },
];

const OriginMascot = () => {
  return (
    <svg
      width='174'
      height='156'
      viewBox='0 0 174 156'
      fill='none'
      xmlns='http://www.w3.org/2000/svg'
    >
      <circle cx='100' cy='82' r='73.75' fill='#FFFBEF' />
      <path
        d='M20.4616 66.0216C20.1472 67.5128 19.9646 69.252 20.2188 70.7609C22.3349 87.1767 34.8888 106.423 52.37 109.83C59.9439 111.307 64.6948 102.894 63.029 95.3598C60.8289 85.4085 57.905 75.2778 48.9876 71.7723C47.5747 71.2166 46.1056 70.7718 44.714 70.167C42.6594 69.2741 40.5106 68.0734 38.5492 66.9774L38.5342 66.9691C35.586 65.3216 31.3783 62.4183 28.2614 61.416C26.6309 60.8918 24.579 60.5964 23.0469 61.5321C21.5218 62.4633 20.8143 64.3498 20.4616 66.0216Z'
        fill='#FFDE3A'
      />
      <path
        d='M97.5898 20.8564C125.626 20.8564 148.354 43.5847 148.354 71.6211V137.687C135.408 148.938 118.5 155.75 100.001 155.75C79.1076 155.75 60.2443 147.061 46.8252 133.101V71.6211C46.8252 43.5847 69.5535 20.8565 97.5898 20.8564Z'
        fill='#FFDE3A'
      />
      <ellipse
        cx='4.03774'
        cy='4.07431'
        rx='4.03774'
        ry='4.07431'
        transform='matrix(0.981234 0.192821 -0.164848 0.986319 122.769 35.9639)'
        fill='#FFF0A6'
      />
      <path
        d='M132.461 50.4434C134.218 52.1722 137.396 57.639 136.725 61.6576'
        stroke='#FFF0A5'
        strokeWidth='8.20779'
        strokeLinecap='round'
      />
      <path
        d='M91.4323 5.13462C91.5277 4.70114 91.5785 4.15758 91.8968 3.83417C93.015 3.69963 94.0963 4.01138 95.1769 4.26481C99.1176 5.18952 102.569 6.5059 105.77 9.03513C106.344 9.48881 107.062 10.0574 107.453 10.6789C108.566 11.7754 109.685 12.9689 110.276 14.4386C111.815 16.4001 112.582 18.3087 113.237 20.6889C113.441 21.4278 113.579 22.3193 113.913 22.9982C113.434 24.7347 113.194 26.4098 113.258 28.2128L112.731 28.0996C105.553 27.438 101.06 26.7019 95.7457 21.4674C95.6343 21.3425 95.5243 21.2168 95.4154 21.0896C91.5468 16.5691 91.0025 10.8279 91.4323 5.13462Z'
        fill='#94C749'
      />
      <path
        d='M94.5098 7.66309C94.923 7.78909 95.2473 7.93074 95.593 8.19385C97.2199 9.43258 98.679 11.098 100.116 12.5543C103.058 15.5486 105.963 18.5773 108.833 21.6396C109.747 22.6189 112.04 24.695 111.992 25.9966C111.811 25.9715 111.584 25.9505 111.414 25.8916C111.106 25.7855 110.891 25.5585 110.663 25.339C107.441 22.2411 104.42 18.858 101.311 15.6393C99.7842 14.0584 95.302 9.90674 94.5015 8.45041C94.3203 8.12074 94.414 8.00982 94.5098 7.66309Z'
        fill='#83B63E'
      />
      <path
        d='M51.1361 53.0312C51.6215 53.9167 52.0669 54.811 52.4941 55.726C51.5012 55.4063 50.9298 55.439 49.9629 55.8114C50.3998 54.8969 50.8395 54.0023 51.1361 53.0312Z'
        fill='#FBD83E'
      />
      <path
        d='M113.913 22.9979C114.745 20.7036 116.624 17.8029 118.877 16.6919C119.802 16.2357 120.845 16.0991 121.825 16.4717C122.871 16.8694 123.866 17.7674 124.318 18.7956C124.549 19.3235 124.626 19.8975 124.408 20.4442C123.798 21.9694 120.195 23.5358 118.857 24.7762C117.774 25.8673 115.825 28.4048 114.223 28.4446C113.884 28.4532 113.56 28.3587 113.258 28.2125C113.194 26.4095 113.435 24.7344 113.913 22.9979Z'
        fill='#83B63E'
      />
      <path
        d='M62.0984 63.8689C62.0991 60.7613 64.6188 58.2427 67.7263 58.2434C70.8338 58.244 73.3524 60.7637 73.3518 63.8712L73.351 67.6226C73.3504 70.7301 70.8307 73.2487 67.7232 73.2481C64.6157 73.2475 62.097 70.7278 62.0977 67.6203L62.0984 63.8689Z'
        fill='black'
      />
      <path
        d='M95.8572 63.8689C95.8579 60.7613 98.3775 58.2427 101.485 58.2434C104.593 58.244 107.111 60.7637 107.111 63.8712L107.11 67.6226C107.109 70.7301 104.59 73.2487 101.482 73.2481C98.3745 73.2475 95.8558 70.7278 95.8565 67.6203L95.8572 63.8689Z'
        fill='black'
      />
      <rect
        x='75.8555'
        y='73.2471'
        width='15.0045'
        height='3.75119'
        rx='1.87559'
        fill='#FFB04F'
      />
      <rect
        x='75.8555'
        y='76.998'
        width='15.0045'
        height='3.75119'
        rx='1.87559'
        fill='#FFB04F'
      />
      <path
        d='M61.527 13.6397C61.7873 13.0928 62.5953 13.1987 62.7061 13.7941L63.4502 17.7942C63.4997 18.0605 63.7151 18.2646 63.9837 18.2998L68.0179 18.8282C68.6184 18.9068 68.7675 19.708 68.2354 19.9973L64.661 21.9411C64.4231 22.0705 64.2955 22.3384 64.3451 22.6047L65.0892 26.6048C65.1999 27.2002 64.4841 27.5895 64.0445 27.1729L61.0913 24.3741C60.8947 24.1878 60.6005 24.1493 60.3625 24.2787L56.7881 26.2225C56.2561 26.5118 55.6646 25.9513 55.925 25.4045L57.6742 21.7309C57.7907 21.4864 57.7364 21.1947 57.5398 21.0084L54.5866 18.2096C54.147 17.793 54.4973 17.0573 55.0978 17.1359L59.1321 17.6643C59.4007 17.6995 59.6613 17.5577 59.7778 17.3132L61.527 13.6397Z'
        fill='#FACF4E'
      />
      <path
        d='M49.4926 29.8101C49.6488 29.482 50.1336 29.5455 50.2 29.9027L50.4687 31.3473C50.4985 31.5071 50.6277 31.6295 50.7888 31.6506L52.2457 31.8415C52.606 31.8887 52.6954 32.3693 52.3762 32.5429L51.0854 33.2449C50.9426 33.3225 50.8661 33.4833 50.8958 33.643L51.1645 35.0876C51.231 35.4449 50.8015 35.6784 50.5377 35.4285L49.4712 34.4178C49.3533 34.306 49.1767 34.2828 49.034 34.3605L47.7431 35.0625C47.4239 35.2361 47.069 34.8997 47.2253 34.5717L47.857 33.245C47.9268 33.0983 47.8943 32.9233 47.7763 32.8115L46.7098 31.8008C46.4461 31.5508 46.6563 31.1094 47.0166 31.1565L48.4735 31.3474C48.6346 31.3685 48.791 31.2834 48.8609 31.1367L49.4926 29.8101Z'
        fill='#FACF4E'
      />
      <rect
        x='25.001'
        y='29.5'
        width='2.5'
        height='65'
        rx='1.25'
        fill='#FF924F'
      />
      <path
        d='M24.6256 6.43381C25.1751 4.70202 27.6197 4.6852 28.193 6.40927L31.9875 17.8196C32.2439 18.5907 32.9676 19.1089 33.7801 19.1033L45.8046 19.0206C47.6214 19.0081 48.3928 21.3278 46.9303 22.4058L37.251 29.5405C36.5969 30.0227 36.3277 30.8711 36.5841 31.6421L40.3785 43.0525C40.9519 44.7766 38.9841 46.227 37.5068 45.1692L27.7302 38.1684C27.0696 37.6953 26.1795 37.7014 25.5254 38.1836L15.8461 45.3183C14.3835 46.3963 12.396 44.9731 12.9455 43.2413L16.5826 31.7798C16.8284 31.0053 16.5475 30.1606 15.8868 29.6876L6.11021 22.6867C4.633 21.6289 5.37241 19.2988 7.18927 19.2863L19.2137 19.2035C20.0262 19.1979 20.7428 18.6698 20.9885 17.8953L24.6256 6.43381Z'
        fill='#FACF4E'
      />
      <path
        d='M19.1519 76.4099C26.0908 78.2691 33.223 74.1513 35.0823 67.2125C36.9416 60.2736 32.8237 53.1413 25.8849 51.2821L22.436 50.358C20.6673 49.884 18.8492 50.9337 18.3753 52.7024L13.3586 71.4251C12.8846 73.1938 13.9343 75.0118 15.703 75.4857L19.1519 76.4099Z'
        fill='#FFB04F'
      />
    </svg>
  );
};
